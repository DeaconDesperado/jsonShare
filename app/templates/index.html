<!doctype html>
<html lang="en" ng-app="JsonShare">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Json Share</title>
    <link rel="stylesheet" href="../static/css/bootstrap.min.css?072e95329879934d">
    <link rel="stylesheet" href="../static/css/compiled/jsonShare.css?fb34c88ac57cb794">
  </head>
  <body>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header magneto-header">
          <a class="navbar-brand magneto-brand-icon-title" href="#"></a>
          <ul class="nav-links pull-right">
            <li class="active">
              <a href="#/Json/">New Json</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="container content-container">
      <div id="left-panel">
        Input JSON:
        <hr />
        <div>
          <textarea rows="10" id="input-json"></textarea>
        </div>
        Or URL:
        <hr />
        <div>
          <input type="text" id="input-json-url">
        </div>
        <hr />
        <div>
          <input type="button" id="validate-json" value="validate">
        </div>
      </div>
      <div id="right-panel">
        Output:
        <hr />
        <div id="warnings" class="alert alert-danger">
        </div>
        <div>
          <pre id="formatted-json">
          </pre>
        </div>
      </div>
      <div ng-view>
      </div>
    </div>
    <!-- script src="../static/js/minified/main.min.js?4ba97e1ae82b6594"></script -->
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script>
      $("#document").ready(function() {
        $("#warnings").hide();
        $("#formatted-json").hide();
      });

      $('#validate-json').click(function() {
        var value = $('#input-json').val();
        $.post('/validateJson', {
          'jsonString': value 
        }, function(data) {
          if (data.success) {
            $("#warnings").hide();
            $("#formatted-json").html(JSON.stringify(JSON.parse(value), null, 4));
            $("#formatted-json").show();
          } else {
            $("#warnings").html(data.message);
            $("#warnings").show();
            $("#formatted-json").hide();
          }
        }, "json");
      });
    </script>
  </body>
</html>
